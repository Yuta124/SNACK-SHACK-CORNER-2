<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Snack Shack Corner</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #fff8e6;
      margin: 0;
      padding: 20px;
    }
    h1 {
      text-align: center;
      color: orange;
    }
    h2 {
      color: red;
      border-bottom: 2px solid orange;
      padding-bottom: 5px;
    }
    h3 {
      color: darkred;
    }
    .menu {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin: 20px 0;
    }
    .item {
      border-radius: 10px;
      padding: 15px;
      text-align: center;
      background: #fff;
      box-shadow: 0px 4px 8px rgba(0,0,0,0.1);
    }
    .item img {
      width: 180px;
      height: 140px;
      object-fit: cover;
      border-radius: 8px;
    }
    .item select, .item input {
      margin-top: 5px;
      padding: 5px;
    }
    button {
      margin-top: 10px;
      padding: 8px 15px;
      background: orange;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-weight: bold;
    }
    button:hover {
      background: red;
      color: white;
    }
    #orderSummary {
      margin-top: 30px;
      padding: 20px;
      border: 2px solid red;
      border-radius: 10px;
      background: #fff;
    }
    #orderSummary h2 {
      color: red;
    }
    .orderItem {
      margin: 5px 0;
      padding: 8px;
      background: #ffe6cc;
      border-radius: 6px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .orderItem button {
      background: red;
      color: white;
      padding: 5px 10px;
      font-size: 12px;
    }
    #actions {
      margin-top: 15px;
      display: flex;
      gap: 10px;
    }
    #nextStep {
      background: green;
      color: white;
      font-weight: bold;
    }
    #cancelAll {
      background: red;
      color: white;
      font-weight: bold;
    }
    #customerForm {
      margin-top: 20px;
      padding: 15px;
      border: 2px dashed orange;
      display: none;
    }
    #customerForm input {
      display: block;
      margin: 10px 0;
      padding: 8px;
      width: 100%;
      max-width: 300px;
    }
    #finalConfirm {
      background: green;
      color: white;
      font-weight: bold;
    }
  </style>
</head>
<body>

  <h1>üçü Snack Shack Corner üçî</h1>

  <!-- Ala Carte Snacks -->
  <h2>Ala Carte ‚Äì Snacks</h2>
  <div class="menu">
    <!-- Chicken Popcorn -->
    <div class="item">
      <img src="https://www.recipetineats.com/tachyon/2025/01/Popcorn-chicken_2-close-up.jpg" alt="Chicken Popcorn">
      <h3>Chicken Popcorn</h3>
      <select id="popcornSize">
        <option value="4|Regular">Regular - RM4</option>
        <option value="6|Large">Large - RM6</option>
      </select><br>
      Sauce:
      <select id="popcornSauce">
        <option value="0|None">None</option>
        <option value="0.5|Chili Sauce">Chili Sauce (+RM0.50)</option>
        <option value="0.5|Cheese Sauce">Cheese Sauce (+RM0.50)</option>
      </select><br>
      Qty: <input type="number" id="popcornQty" value="1" min="1">
      <button onclick="addItemWithSize('Chicken Popcorn', document.getElementById('popcornSize').value, document.getElementById('popcornQty').value, document.getElementById('popcornSauce').value)">Add to Order</button>
    </div>

    <!-- Twist Potato -->
    <div class="item">
      <img src="https://insanelygoodrecipes.com/wp-content/uploads/2024/10/Tornado-Potatoes-5-800x530.jpg" alt="Twist Potato">
      <h3>Twist Potato</h3>
      <select id="potatoDeal">
        <option value="4|1pc">1 pc - RM4</option>
        <option value="7|2pcs">2 pcs - RM7</option>
      </select><br>
      Sauce:
      <select id="potatoSauce">
        <option value="0|None">None</option>
        <option value="0.5|Chili Sauce">Chili Sauce (+RM0.50)</option>
        <option value="0.5|Cheese Sauce">Cheese Sauce (+RM0.50)</option>
      </select><br>
      Qty: <input type="number" id="potatoQty" value="1" min="1">
      <button onclick="addItemWithSize('Twist Potato', document.getElementById('potatoDeal').value, document.getElementById('potatoQty').value, document.getElementById('potatoSauce').value)">Add to Order</button>
    </div>
  </div>

  <!-- Ala Carte Beverages -->
  <h2>Ala Carte ‚Äì Beverages</h2>
  <div class="menu">
    <!-- Soda Lemonade -->
    <div class="item">
      <img src="https://www.acouplecooks.com/wp-content/uploads/2021/12/Lemon-Soda-008-1.jpg" alt="Soda Lemonade">
      <h3>Soda Lemonade</h3>
      Ice:
      <select id="lemonadeIce">
        <option>Normal Ice</option>
        <option>Less Ice</option>
        <option>No Ice</option>
      </select><br>
      Price: RM3<br>
      Qty: <input type="number" id="lemonadeQty" value="1" min="1">
      <button onclick="addItem('Soda Lemonade ('+document.getElementById('lemonadeIce').value+')', 3, document.getElementById('lemonadeQty').value, '0|None')">Add to Order</button>
    </div>

    <!-- Soda Ribena -->
    <div class="item">
      <img src="https://img-global.cpcdn.com/recipes/a77ad73bf9871898/680x781f0.5_0.460532_1.0q80/air-ribena-soda-longan-resipi-foto-utama.jpg" alt="Soda Ribena">
      <h3>Soda Ribena</h3>
      Ice:
      <select id="ribenaIce">
        <option>Normal Ice</option>
        <option>Less Ice</option>
        <option>No Ice</option>
      </select><br>
      Price: RM3<br>
      Qty: <input type="number" id="ribenaQty" value="1" min="1">
      <button onclick="addItem('Soda Ribena ('+document.getElementById('ribenaIce').value+')', 3, document.getElementById('ribenaQty').value, '0|None')">Add to Order</button>
    </div>
  </div>

  <!-- Combo Section -->
  <h2>Combo Sets (RM6 each)</h2>
  <div class="menu">
    <!-- Chicken Popcorn Set -->
    <div class="item">
      <img src="https://www.recipetineats.com/tachyon/2025/01/Popcorn-chicken_2-close-up.jpg" alt="Chicken Popcorn Set">
      <h3>Chicken Popcorn Set</h3>
      Includes: Regular Popcorn + 1 Beverage (can choose)<br>
      Drink:
      <select id="combo1Drink">
        <option value="Soda Lemonade">Soda Lemonade</option>
        <option value="Soda Ribena">Soda Ribena</option>
      </select><br>
      Ice:
      <select id="combo1Ice">
        <option>Normal Ice</option>
        <option>Less Ice</option>
        <option>No Ice</option>
      </select><br>
      Sauce:
      <select id="combo1Sauce">
        <option value="0|None">None</option>
        <option value="0.5|Chili Sauce">Chili Sauce (+RM0.50)</option>
        <option value="0.5|Cheese Sauce">Cheese Sauce (+RM0.50)</option>
      </select><br>
      Qty: <input type="number" id="combo1Qty" value="1" min="1">
      <button onclick="addItemWithSize('Chicken Popcorn Set ('+document.getElementById('combo1Drink').value+' - '+document.getElementById('combo1Ice').value+')', '6|Regular', document.getElementById('combo1Qty').value, document.getElementById('combo1Sauce').value)">Add to Order</button>
    </div>

    <!-- Twist Potato Set -->
    <div class="item">
      <img src="https://insanelygoodrecipes.com/wp-content/uploads/2024/10/Tornado-Potatoes-5-800x530.jpg" alt="Twist Potato Set">
      <h3>Twist Potato Set</h3>
      Includes: 1 Twist Potato + 1 Beverage (can choose)<br>
      Drink:
      <select id="combo2Drink">
        <option value="Soda Lemonade">Soda Lemonade</option>
        <option value="Soda Ribena">Soda Ribena</option>
      </select><br>
      Ice:
      <select id="combo2Ice">
        <option>Normal Ice</option>
        <option>Less Ice</option>
        <option>No Ice</option>
      </select><br>
      Sauce:
      <select id="combo2Sauce">
        <option value="0|None">None</option>
        <option value="0.5|Chili Sauce">Chili Sauce (+RM0.50)</option>
        <option value="0.5|Cheese Sauce">Cheese Sauce (+RM0.50)</option>
      </select><br>
      Qty: <input type="number" id="combo2Qty" value="1" min="1">
      <button onclick="addItemWithSize('Twist Potato Set ('+document.getElementById('combo2Drink').value+' - '+document.getElementById('combo2Ice').value+')', '6|Regular', document.getElementById('combo2Qty').value, document.getElementById('combo2Sauce').value)">Add to Order</button>
    </div>
  </div>

  <!-- Order Summary -->
  <div id="orderSummary">
    <h2>üßæ Your Order</h2>
    <div id="orderList"></div>
    <p><b>Total: RM <span id="total">0</span></b></p>

    <div id="actions">
      <button id="nextStep" onclick="nextStep()">‚û°Ô∏è Next</button>
      <button id="cancelAll" onclick="cancelAll()">‚ùå Cancel All</button>
    </div>

    <div id="customerForm">
      <h3>Please enter your details:</h3>
      <label>Name:</label>
      <input type="text" id="custName" placeholder="Enter your name">
      <label>Phone Number:</label>
      <input type="text" id="custPhone" placeholder="Enter your phone number">
      <button id="finalConfirm" onclick="confirmOrder()">‚úÖ Confirm Order</button>
    </div>
  </div>

  <script>
    let total = 0;

    // For items with size (Regular/Large, sets)
    function addItemWithSize(name, sizeValue, qty, sauceValue) {
      let [price, sizeName] = sizeValue.split("|");
      price = parseFloat(price);
      qty = parseInt(qty);

      let [sauceCost, sauceName] = sauceValue.split("|");
      sauceCost = parseFloat(sauceCost);

      const cost = (price + sauceCost) * qty;

      let displayName = name + " (" + sizeName + ")";
      if (sauceName && sauceName !== "None") {
        displayName += " + " + sauceName;
      }

      addToOrder(displayName, qty, cost);
    }

    // For drinks (no size)
    function addItem(name, price, qty, sauceValue) {
      price = parseFloat(price);
      qty = parseInt(qty);

      let [sauceCost, sauceName] = sauceValue.split("|");
      sauceCost = parseFloat(sauceCost);

      const cost = (price + sauceCost) * qty;

      let displayName = name;
      if (sauceName && sauceName !== "None") {
        displayName += " + " + sauceName;
      }

      addToOrder(displayName, qty, cost);
    }

    function addToOrder(displayName, qty, cost) {
      const orderList = document.getElementById("orderList");
      const div = document.createElement("div");
      div.className = "orderItem";

      const span = document.createElement("span");
      span.textContent = displayName + " x" + qty + " = RM " + cost.toFixed(2);

      const cancelBtn = document.createElement("button");
      cancelBtn.textContent = "‚ùå Cancel";
      cancelBtn.onclick = function () {
        orderList.removeChild(div);
        total -= cost;
        document.getElementById("total").textContent = total.toFixed(2);
      };

      div.appendChild(span);
      div.appendChild(cancelBtn);
      orderList.appendChild(div);

      total += cost;
      document.getElementById("total").textContent = total.toFixed(2);
    }

    function cancelAll() {
      document.getElementById("orderList").innerHTML = "";
      total = 0;
      document.getElementById("total").textContent = "0";
      document.getElementById("customerForm").style.display = "none";
    }

    function nextStep() {
      if (total === 0) {
        alert("No items in order!");
      } else {
        document.getElementById("customerForm").style.display = "block";
      }
    }

    function confirmOrder() {
      const name = document.getElementById("custName").value;
      const phone = document.getElementById("custPhone").value;

      if (name === "" || phone === "") {
        alert("‚ö†Ô∏è Please fill in your name and phone number!");
        return;
      }

      let items = "";
      const orderItems = document.querySelectorAll("#orderList .orderItem span");
      orderItems.forEach(item => {
        items += "- " + item.textContent + "\n";
      });

      const now = new Date();
      const dateTime = now.toLocaleString();

      let message = "üçü *Snack Shack Corner Order* üçî\n\n";
      message += "*Customer Name:* " + name + "\n";
      message += "*Phone:* " + phone + "\n";
      message += "*Date/Time:* " + dateTime + "\n\n";
      message += "*Order Details:*\n" + items + "\n";
      message += "*Total: RM " + total.toFixed(2) + "*\n\n";
      message += "‚úÖ Thank you for ordering with Snack Shack Corner!";

      let shopNumber = "601155075901"; // Your WhatsApp number
      let encodedMsg = encodeURIComponent(message);

      let isMobile = /Android|iPhone|iPad|iPod/i.test(navigator.userAgent);

      let url;
      if (isMobile) {
        url = "whatsapp://send?phone=" + shopNumber + "&text=" + encodedMsg;
      } else {
        url = "https://wa.me/" + shopNumber + "?text=" + encodedMsg;
      }

      window.open(url, "_blank");
    }
  </script>

</body>
</html>

